var Gr=Object.create;var re=Object.defineProperty;var Kr=Object.getOwnPropertyDescriptor;var Vr=Object.getOwnPropertyNames,_t=Object.getOwnPropertySymbols,Qr=Object.getPrototypeOf,St=Object.prototype.hasOwnProperty,zr=Object.prototype.propertyIsEnumerable;var yt=(t,e,i)=>e in t?re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,J=(t,e)=>{for(var i in e||(e={}))St.call(e,i)&&yt(t,i,e[i]);if(_t)for(var i of _t(e))zr.call(e,i)&&yt(t,i,e[i]);return t};var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wr=(t,e)=>{for(var i in e)re(t,i,{get:e[i],enumerable:!0})},Et=(t,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Vr(e))!St.call(t,n)&&n!==i&&re(t,n,{get:()=>e[n],enumerable:!(s=Kr(e,n))||s.enumerable});return t};var qe=(t,e,i)=>(i=t!=null?Gr(Qr(t)):{},Et(e||!t||!t.__esModule?re(i,"default",{value:t,enumerable:!0}):i,t)),jr=t=>Et(re({},"__esModule",{value:!0}),t);var bt=_(Ue=>{var wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ue.encode=function(t){if(0<=t&&t<wt.length)return wt[t];throw new TypeError("Must be between 0 and 63: "+t)};Ue.decode=function(t){var e=65,i=90,s=97,n=122,r=48,o=57,a=43,u=47,c=26,l=52;return e<=t&&t<=i?t-e:s<=t&&t<=n?t-s+c:r<=t&&t<=o?t-r+l:t==a?62:t==u?63:-1}});var Ge=_(Fe=>{var Ct=bt(),Be=5,At=1<<Be,Ot=At-1,xt=At;function $r(t){return t<0?(-t<<1)+1:(t<<1)+0}function Hr(t){var e=(t&1)===1,i=t>>1;return e?-i:i}Fe.encode=function(e){var i="",s,n=$r(e);do s=n&Ot,n>>>=Be,n>0&&(s|=xt),i+=Ct.encode(s);while(n>0);return i};Fe.decode=function(e,i,s){var n=e.length,r=0,o=0,a,u;do{if(i>=n)throw new Error("Expected more digits in base 64 VLQ value.");if(u=Ct.decode(e.charCodeAt(i++)),u===-1)throw new Error("Invalid base64 digit: "+e.charAt(i-1));a=!!(u&xt),u&=Ot,r=r+(u<<o),o+=Be}while(a);s.value=Hr(r),s.rest=i}});var Y=_(O=>{function Jr(t,e,i){if(e in t)return t[e];if(arguments.length===3)return i;throw new Error('"'+e+'" is a required argument.')}O.getArg=Jr;var It=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Xr=/^data:.+\,.+$/;function ne(t){var e=t.match(It);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}O.urlParse=ne;function X(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}O.urlGenerate=X;function Ke(t){var e=t,i=ne(t);if(i){if(!i.path)return t;e=i.path}for(var s=O.isAbsolute(e),n=e.split(/\/+/),r,o=0,a=n.length-1;a>=0;a--)r=n[a],r==="."?n.splice(a,1):r===".."?o++:o>0&&(r===""?(n.splice(a+1,o),o=0):(n.splice(a,2),o--));return e=n.join("/"),e===""&&(e=s?"/":"."),i?(i.path=e,X(i)):e}O.normalize=Ke;function Rt(t,e){t===""&&(t="."),e===""&&(e=".");var i=ne(e),s=ne(t);if(s&&(t=s.path||"/"),i&&!i.scheme)return s&&(i.scheme=s.scheme),X(i);if(i||e.match(Xr))return e;if(s&&!s.host&&!s.path)return s.host=e,X(s);var n=e.charAt(0)==="/"?e:Ke(t.replace(/\/+$/,"")+"/"+e);return s?(s.path=n,X(s)):n}O.join=Rt;O.isAbsolute=function(t){return t.charAt(0)==="/"||It.test(t)};function Zr(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var i=0;e.indexOf(t+"/")!==0;){var s=t.lastIndexOf("/");if(s<0||(t=t.slice(0,s),t.match(/^([^\/]+:\/)?\/*$/)))return e;++i}return Array(i+1).join("../")+e.substr(t.length+1)}O.relative=Zr;var Tt=function(){var t=Object.create(null);return!("__proto__"in t)}();function Mt(t){return t}function Yr(t){return Lt(t)?"$"+t:t}O.toSetString=Tt?Mt:Yr;function en(t){return Lt(t)?t.slice(1):t}O.fromSetString=Tt?Mt:en;function Lt(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var i=e-10;i>=0;i--)if(t.charCodeAt(i)!==36)return!1;return!0}function tn(t,e,i){var s=Z(t.source,e.source);return s!==0||(s=t.originalLine-e.originalLine,s!==0)||(s=t.originalColumn-e.originalColumn,s!==0||i)||(s=t.generatedColumn-e.generatedColumn,s!==0)||(s=t.generatedLine-e.generatedLine,s!==0)?s:Z(t.name,e.name)}O.compareByOriginalPositions=tn;function rn(t,e,i){var s=t.generatedLine-e.generatedLine;return s!==0||(s=t.generatedColumn-e.generatedColumn,s!==0||i)||(s=Z(t.source,e.source),s!==0)||(s=t.originalLine-e.originalLine,s!==0)||(s=t.originalColumn-e.originalColumn,s!==0)?s:Z(t.name,e.name)}O.compareByGeneratedPositionsDeflated=rn;function Z(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function nn(t,e){var i=t.generatedLine-e.generatedLine;return i!==0||(i=t.generatedColumn-e.generatedColumn,i!==0)||(i=Z(t.source,e.source),i!==0)||(i=t.originalLine-e.originalLine,i!==0)||(i=t.originalColumn-e.originalColumn,i!==0)?i:Z(t.name,e.name)}O.compareByGeneratedPositionsInflated=nn;function on(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}O.parseSourceMapInput=on;function sn(t,e,i){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),i){var s=ne(i);if(!s)throw new Error("sourceMapURL could not be parsed");if(s.path){var n=s.path.lastIndexOf("/");n>=0&&(s.path=s.path.substring(0,n+1))}e=Rt(X(s),e)}return Ke(e)}O.computeSourceURL=sn});var ze=_(Dt=>{var Ve=Y(),Qe=Object.prototype.hasOwnProperty,Q=typeof Map<"u";function U(){this._array=[],this._set=Q?new Map:Object.create(null)}U.fromArray=function(e,i){for(var s=new U,n=0,r=e.length;n<r;n++)s.add(e[n],i);return s};U.prototype.size=function(){return Q?this._set.size:Object.getOwnPropertyNames(this._set).length};U.prototype.add=function(e,i){var s=Q?e:Ve.toSetString(e),n=Q?this.has(e):Qe.call(this._set,s),r=this._array.length;(!n||i)&&this._array.push(e),n||(Q?this._set.set(e,r):this._set[s]=r)};U.prototype.has=function(e){if(Q)return this._set.has(e);var i=Ve.toSetString(e);return Qe.call(this._set,i)};U.prototype.indexOf=function(e){if(Q){var i=this._set.get(e);if(i>=0)return i}else{var s=Ve.toSetString(e);if(Qe.call(this._set,s))return this._set[s]}throw new Error('"'+e+'" is not in the set.')};U.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};U.prototype.toArray=function(){return this._array.slice()};Dt.ArraySet=U});var Nt=_(Pt=>{var kt=Y();function an(t,e){var i=t.generatedLine,s=e.generatedLine,n=t.generatedColumn,r=e.generatedColumn;return s>i||s==i&&r>=n||kt.compareByGeneratedPositionsInflated(t,e)<=0}function pe(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}pe.prototype.unsortedForEach=function(e,i){this._array.forEach(e,i)};pe.prototype.add=function(e){an(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};pe.prototype.toArray=function(){return this._sorted||(this._array.sort(kt.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};Pt.MappingList=pe});var We=_(qt=>{var ie=Ge(),S=Y(),he=ze().ArraySet,un=Nt().MappingList;function L(t){t||(t={}),this._file=S.getArg(t,"file",null),this._sourceRoot=S.getArg(t,"sourceRoot",null),this._skipValidation=S.getArg(t,"skipValidation",!1),this._sources=new he,this._names=new he,this._mappings=new un,this._sourcesContents=null}L.prototype._version=3;L.fromSourceMap=function(e){var i=e.sourceRoot,s=new L({file:e.file,sourceRoot:i});return e.eachMapping(function(n){var r={generated:{line:n.generatedLine,column:n.generatedColumn}};n.source!=null&&(r.source=n.source,i!=null&&(r.source=S.relative(i,r.source)),r.original={line:n.originalLine,column:n.originalColumn},n.name!=null&&(r.name=n.name)),s.addMapping(r)}),e.sources.forEach(function(n){var r=n;i!==null&&(r=S.relative(i,n)),s._sources.has(r)||s._sources.add(r);var o=e.sourceContentFor(n);o!=null&&s.setSourceContent(n,o)}),s};L.prototype.addMapping=function(e){var i=S.getArg(e,"generated"),s=S.getArg(e,"original",null),n=S.getArg(e,"source",null),r=S.getArg(e,"name",null);this._skipValidation||this._validateMapping(i,s,n,r),n!=null&&(n=String(n),this._sources.has(n)||this._sources.add(n)),r!=null&&(r=String(r),this._names.has(r)||this._names.add(r)),this._mappings.add({generatedLine:i.line,generatedColumn:i.column,originalLine:s!=null&&s.line,originalColumn:s!=null&&s.column,source:n,name:r})};L.prototype.setSourceContent=function(e,i){var s=e;this._sourceRoot!=null&&(s=S.relative(this._sourceRoot,s)),i!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[S.toSetString(s)]=i):this._sourcesContents&&(delete this._sourcesContents[S.toSetString(s)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};L.prototype.applySourceMap=function(e,i,s){var n=i;if(i==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);n=e.file}var r=this._sourceRoot;r!=null&&(n=S.relative(r,n));var o=new he,a=new he;this._mappings.unsortedForEach(function(u){if(u.source===n&&u.originalLine!=null){var c=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});c.source!=null&&(u.source=c.source,s!=null&&(u.source=S.join(s,u.source)),r!=null&&(u.source=S.relative(r,u.source)),u.originalLine=c.line,u.originalColumn=c.column,c.name!=null&&(u.name=c.name))}var l=u.source;l!=null&&!o.has(l)&&o.add(l);var d=u.name;d!=null&&!a.has(d)&&a.add(d)},this),this._sources=o,this._names=a,e.sources.forEach(function(u){var c=e.sourceContentFor(u);c!=null&&(s!=null&&(u=S.join(s,u)),r!=null&&(u=S.relative(r,u)),this.setSourceContent(u,c))},this)};L.prototype._validateMapping=function(e,i,s,n){if(i&&typeof i.line!="number"&&typeof i.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!i&&!s&&!n)){if(e&&"line"in e&&"column"in e&&i&&"line"in i&&"column"in i&&e.line>0&&e.column>=0&&i.line>0&&i.column>=0&&s)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:s,original:i,name:n}))}};L.prototype._serializeMappings=function(){for(var e=0,i=1,s=0,n=0,r=0,o=0,a="",u,c,l,d,f=this._mappings.toArray(),m=0,g=f.length;m<g;m++){if(c=f[m],u="",c.generatedLine!==i)for(e=0;c.generatedLine!==i;)u+=";",i++;else if(m>0){if(!S.compareByGeneratedPositionsInflated(c,f[m-1]))continue;u+=","}u+=ie.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(d=this._sources.indexOf(c.source),u+=ie.encode(d-o),o=d,u+=ie.encode(c.originalLine-1-n),n=c.originalLine-1,u+=ie.encode(c.originalColumn-s),s=c.originalColumn,c.name!=null&&(l=this._names.indexOf(c.name),u+=ie.encode(l-r),r=l)),a+=u}return a};L.prototype._generateSourcesContent=function(e,i){return e.map(function(s){if(!this._sourcesContents)return null;i!=null&&(s=S.relative(i,s));var n=S.toSetString(s);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)};L.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};L.prototype.toString=function(){return JSON.stringify(this.toJSON())};qt.SourceMapGenerator=L});var Ut=_(z=>{z.GREATEST_LOWER_BOUND=1;z.LEAST_UPPER_BOUND=2;function je(t,e,i,s,n,r){var o=Math.floor((e-t)/2)+t,a=n(i,s[o],!0);return a===0?o:a>0?e-o>1?je(o,e,i,s,n,r):r==z.LEAST_UPPER_BOUND?e<s.length?e:-1:o:o-t>1?je(t,o,i,s,n,r):r==z.LEAST_UPPER_BOUND?o:t<0?-1:t}z.search=function(e,i,s,n){if(i.length===0)return-1;var r=je(-1,i.length,e,i,s,n||z.GREATEST_LOWER_BOUND);if(r<0)return-1;for(;r-1>=0&&s(i[r],i[r-1],!0)===0;)--r;return r}});var Ft=_(Bt=>{function $e(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function ln(t,e){return Math.round(t+Math.random()*(e-t))}function He(t,e,i,s){if(i<s){var n=ln(i,s),r=i-1;$e(t,n,s);for(var o=t[s],a=i;a<s;a++)e(t[a],o)<=0&&(r+=1,$e(t,r,a));$e(t,r+1,a);var u=r+1;He(t,e,i,u-1),He(t,e,u+1,s)}}Bt.quickSort=function(t,e){He(t,e,0,t.length-1)}});var Kt=_(ge=>{var p=Y(),Je=Ut(),ee=ze().ArraySet,cn=Ge(),oe=Ft().quickSort;function y(t,e){var i=t;return typeof t=="string"&&(i=p.parseSourceMapInput(t)),i.sections!=null?new D(i,e):new C(i,e)}y.fromSourceMap=function(t,e){return C.fromSourceMap(t,e)};y.prototype._version=3;y.prototype.__generatedMappings=null;Object.defineProperty(y.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});y.prototype.__originalMappings=null;Object.defineProperty(y.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});y.prototype._charIsMappingSeparator=function(e,i){var s=e.charAt(i);return s===";"||s===","};y.prototype._parseMappings=function(e,i){throw new Error("Subclasses must implement _parseMappings")};y.GENERATED_ORDER=1;y.ORIGINAL_ORDER=2;y.GREATEST_LOWER_BOUND=1;y.LEAST_UPPER_BOUND=2;y.prototype.eachMapping=function(e,i,s){var n=i||null,r=s||y.GENERATED_ORDER,o;switch(r){case y.GENERATED_ORDER:o=this._generatedMappings;break;case y.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;o.map(function(u){var c=u.source===null?null:this._sources.at(u.source);return c=p.computeSourceURL(a,c,this._sourceMapURL),{source:c,generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:u.name===null?null:this._names.at(u.name)}},this).forEach(e,n)};y.prototype.allGeneratedPositionsFor=function(e){var i=p.getArg(e,"line"),s={source:p.getArg(e,"source"),originalLine:i,originalColumn:p.getArg(e,"column",0)};if(s.source=this._findSourceIndex(s.source),s.source<0)return[];var n=[],r=this._findMapping(s,this._originalMappings,"originalLine","originalColumn",p.compareByOriginalPositions,Je.LEAST_UPPER_BOUND);if(r>=0){var o=this._originalMappings[r];if(e.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)n.push({line:p.getArg(o,"generatedLine",null),column:p.getArg(o,"generatedColumn",null),lastColumn:p.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++r];else for(var u=o.originalColumn;o&&o.originalLine===i&&o.originalColumn==u;)n.push({line:p.getArg(o,"generatedLine",null),column:p.getArg(o,"generatedColumn",null),lastColumn:p.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++r]}return n};ge.SourceMapConsumer=y;function C(t,e){var i=t;typeof t=="string"&&(i=p.parseSourceMapInput(t));var s=p.getArg(i,"version"),n=p.getArg(i,"sources"),r=p.getArg(i,"names",[]),o=p.getArg(i,"sourceRoot",null),a=p.getArg(i,"sourcesContent",null),u=p.getArg(i,"mappings"),c=p.getArg(i,"file",null);if(s!=this._version)throw new Error("Unsupported version: "+s);o&&(o=p.normalize(o)),n=n.map(String).map(p.normalize).map(function(l){return o&&p.isAbsolute(o)&&p.isAbsolute(l)?p.relative(o,l):l}),this._names=ee.fromArray(r.map(String),!0),this._sources=ee.fromArray(n,!0),this._absoluteSources=this._sources.toArray().map(function(l){return p.computeSourceURL(o,l,e)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=e,this.file=c}C.prototype=Object.create(y.prototype);C.prototype.consumer=y;C.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=p.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var i;for(i=0;i<this._absoluteSources.length;++i)if(this._absoluteSources[i]==t)return i;return-1};C.fromSourceMap=function(e,i){var s=Object.create(C.prototype),n=s._names=ee.fromArray(e._names.toArray(),!0),r=s._sources=ee.fromArray(e._sources.toArray(),!0);s.sourceRoot=e._sourceRoot,s.sourcesContent=e._generateSourcesContent(s._sources.toArray(),s.sourceRoot),s.file=e._file,s._sourceMapURL=i,s._absoluteSources=s._sources.toArray().map(function(m){return p.computeSourceURL(s.sourceRoot,m,i)});for(var o=e._mappings.toArray().slice(),a=s.__generatedMappings=[],u=s.__originalMappings=[],c=0,l=o.length;c<l;c++){var d=o[c],f=new Gt;f.generatedLine=d.generatedLine,f.generatedColumn=d.generatedColumn,d.source&&(f.source=r.indexOf(d.source),f.originalLine=d.originalLine,f.originalColumn=d.originalColumn,d.name&&(f.name=n.indexOf(d.name)),u.push(f)),a.push(f)}return oe(s.__originalMappings,p.compareByOriginalPositions),s};C.prototype._version=3;Object.defineProperty(C.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function Gt(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}C.prototype._parseMappings=function(e,i){for(var s=1,n=0,r=0,o=0,a=0,u=0,c=e.length,l=0,d={},f={},m=[],g=[],v,q,w,b,R;l<c;)if(e.charAt(l)===";")s++,l++,n=0;else if(e.charAt(l)===",")l++;else{for(v=new Gt,v.generatedLine=s,b=l;b<c&&!this._charIsMappingSeparator(e,b);b++);if(q=e.slice(l,b),w=d[q],w)l+=q.length;else{for(w=[];l<b;)cn.decode(e,l,f),R=f.value,l=f.rest,w.push(R);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");d[q]=w}v.generatedColumn=n+w[0],n=v.generatedColumn,w.length>1&&(v.source=a+w[1],a+=w[1],v.originalLine=r+w[2],r=v.originalLine,v.originalLine+=1,v.originalColumn=o+w[3],o=v.originalColumn,w.length>4&&(v.name=u+w[4],u+=w[4])),g.push(v),typeof v.originalLine=="number"&&m.push(v)}oe(g,p.compareByGeneratedPositionsDeflated),this.__generatedMappings=g,oe(m,p.compareByOriginalPositions),this.__originalMappings=m};C.prototype._findMapping=function(e,i,s,n,r,o){if(e[s]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[s]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return Je.search(e,i,r,o)};C.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var i=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var s=this._generatedMappings[e+1];if(i.generatedLine===s.generatedLine){i.lastGeneratedColumn=s.generatedColumn-1;continue}}i.lastGeneratedColumn=1/0}};C.prototype.originalPositionFor=function(e){var i={generatedLine:p.getArg(e,"line"),generatedColumn:p.getArg(e,"column")},s=this._findMapping(i,this._generatedMappings,"generatedLine","generatedColumn",p.compareByGeneratedPositionsDeflated,p.getArg(e,"bias",y.GREATEST_LOWER_BOUND));if(s>=0){var n=this._generatedMappings[s];if(n.generatedLine===i.generatedLine){var r=p.getArg(n,"source",null);r!==null&&(r=this._sources.at(r),r=p.computeSourceURL(this.sourceRoot,r,this._sourceMapURL));var o=p.getArg(n,"name",null);return o!==null&&(o=this._names.at(o)),{source:r,line:p.getArg(n,"originalLine",null),column:p.getArg(n,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};C.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};C.prototype.sourceContentFor=function(e,i){if(!this.sourcesContent)return null;var s=this._findSourceIndex(e);if(s>=0)return this.sourcesContent[s];var n=e;this.sourceRoot!=null&&(n=p.relative(this.sourceRoot,n));var r;if(this.sourceRoot!=null&&(r=p.urlParse(this.sourceRoot))){var o=n.replace(/^file:\/\//,"");if(r.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!r.path||r.path=="/")&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(i)return null;throw new Error('"'+n+'" is not in the SourceMap.')};C.prototype.generatedPositionFor=function(e){var i=p.getArg(e,"source");if(i=this._findSourceIndex(i),i<0)return{line:null,column:null,lastColumn:null};var s={source:i,originalLine:p.getArg(e,"line"),originalColumn:p.getArg(e,"column")},n=this._findMapping(s,this._originalMappings,"originalLine","originalColumn",p.compareByOriginalPositions,p.getArg(e,"bias",y.GREATEST_LOWER_BOUND));if(n>=0){var r=this._originalMappings[n];if(r.source===s.source)return{line:p.getArg(r,"generatedLine",null),column:p.getArg(r,"generatedColumn",null),lastColumn:p.getArg(r,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};ge.BasicSourceMapConsumer=C;function D(t,e){var i=t;typeof t=="string"&&(i=p.parseSourceMapInput(t));var s=p.getArg(i,"version"),n=p.getArg(i,"sections");if(s!=this._version)throw new Error("Unsupported version: "+s);this._sources=new ee,this._names=new ee;var r={line:-1,column:0};this._sections=n.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=p.getArg(o,"offset"),u=p.getArg(a,"line"),c=p.getArg(a,"column");if(u<r.line||u===r.line&&c<r.column)throw new Error("Section offsets must be ordered and non-overlapping.");return r=a,{generatedOffset:{generatedLine:u+1,generatedColumn:c+1},consumer:new y(p.getArg(o,"map"),e)}})}D.prototype=Object.create(y.prototype);D.prototype.constructor=y;D.prototype._version=3;Object.defineProperty(D.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var i=0;i<this._sections[e].consumer.sources.length;i++)t.push(this._sections[e].consumer.sources[i]);return t}});D.prototype.originalPositionFor=function(e){var i={generatedLine:p.getArg(e,"line"),generatedColumn:p.getArg(e,"column")},s=Je.search(i,this._sections,function(r,o){var a=r.generatedLine-o.generatedOffset.generatedLine;return a||r.generatedColumn-o.generatedOffset.generatedColumn}),n=this._sections[s];return n?n.consumer.originalPositionFor({line:i.generatedLine-(n.generatedOffset.generatedLine-1),column:i.generatedColumn-(n.generatedOffset.generatedLine===i.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};D.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};D.prototype.sourceContentFor=function(e,i){for(var s=0;s<this._sections.length;s++){var n=this._sections[s],r=n.consumer.sourceContentFor(e,!0);if(r)return r}if(i)return null;throw new Error('"'+e+'" is not in the SourceMap.')};D.prototype.generatedPositionFor=function(e){for(var i=0;i<this._sections.length;i++){var s=this._sections[i];if(s.consumer._findSourceIndex(p.getArg(e,"source"))!==-1){var n=s.consumer.generatedPositionFor(e);if(n){var r={line:n.line+(s.generatedOffset.generatedLine-1),column:n.column+(s.generatedOffset.generatedLine===n.line?s.generatedOffset.generatedColumn-1:0)};return r}}}return{line:null,column:null}};D.prototype._parseMappings=function(e,i){this.__generatedMappings=[],this.__originalMappings=[];for(var s=0;s<this._sections.length;s++)for(var n=this._sections[s],r=n.consumer._generatedMappings,o=0;o<r.length;o++){var a=r[o],u=n.consumer._sources.at(a.source);u=p.computeSourceURL(n.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var c=null;a.name&&(c=n.consumer._names.at(a.name),this._names.add(c),c=this._names.indexOf(c));var l={source:u,generatedLine:a.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(n.generatedOffset.generatedLine===a.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(l),typeof l.originalLine=="number"&&this.__originalMappings.push(l)}oe(this.__generatedMappings,p.compareByGeneratedPositionsDeflated),oe(this.__originalMappings,p.compareByOriginalPositions)};ge.IndexedSourceMapConsumer=D});var Qt=_(Vt=>{var fn=We().SourceMapGenerator,ve=Y(),dn=/(\r?\n)/,mn=10,te="$$$isSourceNode$$$";function M(t,e,i,s,n){this.children=[],this.sourceContents={},this.line=t??null,this.column=e??null,this.source=i??null,this.name=n??null,this[te]=!0,s!=null&&this.add(s)}M.fromStringWithSourceMap=function(e,i,s){var n=new M,r=e.split(dn),o=0,a=function(){var f=g(),m=g()||"";return f+m;function g(){return o<r.length?r[o++]:void 0}},u=1,c=0,l=null;return i.eachMapping(function(f){if(l!==null)if(u<f.generatedLine)d(l,a()),u++,c=0;else{var m=r[o]||"",g=m.substr(0,f.generatedColumn-c);r[o]=m.substr(f.generatedColumn-c),c=f.generatedColumn,d(l,g),l=f;return}for(;u<f.generatedLine;)n.add(a()),u++;if(c<f.generatedColumn){var m=r[o]||"";n.add(m.substr(0,f.generatedColumn)),r[o]=m.substr(f.generatedColumn),c=f.generatedColumn}l=f},this),o<r.length&&(l&&d(l,a()),n.add(r.splice(o).join(""))),i.sources.forEach(function(f){var m=i.sourceContentFor(f);m!=null&&(s!=null&&(f=ve.join(s,f)),n.setSourceContent(f,m))}),n;function d(f,m){if(f===null||f.source===void 0)n.add(m);else{var g=s?ve.join(s,f.source):f.source;n.add(new M(f.originalLine,f.originalColumn,g,m,f.name))}}};M.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(i){this.add(i)},this);else if(e[te]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};M.prototype.prepend=function(e){if(Array.isArray(e))for(var i=e.length-1;i>=0;i--)this.prepend(e[i]);else if(e[te]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};M.prototype.walk=function(e){for(var i,s=0,n=this.children.length;s<n;s++)i=this.children[s],i[te]?i.walk(e):i!==""&&e(i,{source:this.source,line:this.line,column:this.column,name:this.name})};M.prototype.join=function(e){var i,s,n=this.children.length;if(n>0){for(i=[],s=0;s<n-1;s++)i.push(this.children[s]),i.push(e);i.push(this.children[s]),this.children=i}return this};M.prototype.replaceRight=function(e,i){var s=this.children[this.children.length-1];return s[te]?s.replaceRight(e,i):typeof s=="string"?this.children[this.children.length-1]=s.replace(e,i):this.children.push("".replace(e,i)),this};M.prototype.setSourceContent=function(e,i){this.sourceContents[ve.toSetString(e)]=i};M.prototype.walkSourceContents=function(e){for(var i=0,s=this.children.length;i<s;i++)this.children[i][te]&&this.children[i].walkSourceContents(e);for(var n=Object.keys(this.sourceContents),i=0,s=n.length;i<s;i++)e(ve.fromSetString(n[i]),this.sourceContents[n[i]])};M.prototype.toString=function(){var e="";return this.walk(function(i){e+=i}),e};M.prototype.toStringWithSourceMap=function(e){var i={code:"",line:1,column:0},s=new fn(e),n=!1,r=null,o=null,a=null,u=null;return this.walk(function(c,l){i.code+=c,l.source!==null&&l.line!==null&&l.column!==null?((r!==l.source||o!==l.line||a!==l.column||u!==l.name)&&s.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:i.line,column:i.column},name:l.name}),r=l.source,o=l.line,a=l.column,u=l.name,n=!0):n&&(s.addMapping({generated:{line:i.line,column:i.column}}),r=null,n=!1);for(var d=0,f=c.length;d<f;d++)c.charCodeAt(d)===mn?(i.line++,i.column=0,d+1===f?(r=null,n=!1):n&&s.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:i.line,column:i.column},name:l.name})):i.column++}),this.walkSourceContents(function(c,l){s.setSourceContent(c,l)}),{code:i.code,map:s}};Vt.SourceNode=M});var zt=_(_e=>{_e.SourceMapGenerator=We().SourceMapGenerator;_e.SourceMapConsumer=Kt().SourceMapConsumer;_e.SourceNode=Qt().SourceNode});var jt=_((Eo,Wt)=>{var pn=Object.prototype.toString,Xe=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function hn(t){return pn.call(t).slice(8,-1)==="ArrayBuffer"}function gn(t,e,i){e>>>=0;var s=t.byteLength-e;if(s<0)throw new RangeError("'offset' is out of bounds");if(i===void 0)i=s;else if(i>>>=0,i>s)throw new RangeError("'length' is out of bounds");return Xe?Buffer.from(t.slice(e,e+i)):new Buffer(new Uint8Array(t.slice(e,e+i)))}function vn(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return Xe?Buffer.from(t,e):new Buffer(t,e)}function _n(t,e,i){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return hn(t)?gn(t,e,i):typeof t=="string"?vn(t,e):Xe?Buffer.from(t):new Buffer(t)}Wt.exports=_n});var tr=_((j,tt)=>{var yn=zt().SourceMapConsumer,Ze=require("path"),P;try{P=require("fs"),(!P.existsSync||!P.readFileSync)&&(P=null)}catch{}var Sn=jt();function $t(t,e){return t.require(e)}var Ht=!1,Jt=!1,Ye=!1,se="auto",W={},ae={},En=/^data:application\/json[^,]+base64,/,F=[],G=[];function rt(){return se==="browser"?!0:se==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function wn(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}function bn(){return typeof process=="object"&&process!==null?process.version:""}function Cn(){if(typeof process=="object"&&process!==null)return process.stderr}function An(t){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(t)}function ye(t){return function(e){for(var i=0;i<t.length;i++){var s=t[i](e);if(s)return s}return null}}var nt=ye(F);F.push(function(t){if(t=t.trim(),/^file:/.test(t)&&(t=t.replace(/file:\/\/\/(\w:)?/,function(s,n){return n?"":"/"})),t in W)return W[t];var e="";try{if(P)P.existsSync(t)&&(e=P.readFileSync(t,"utf8"));else{var i=new XMLHttpRequest;i.open("GET",t,!1),i.send(null),i.readyState===4&&i.status===200&&(e=i.responseText)}}catch{}return W[t]=e});function et(t,e){if(!t)return e;var i=Ze.dirname(t),s=/^\w+:\/\/[^\/]*/.exec(i),n=s?s[0]:"",r=i.slice(n.length);return n&&/^\/\w\:/.test(r)?(n+="/",n+Ze.resolve(i.slice(n.length),e).replace(/\\/g,"/")):n+Ze.resolve(i.slice(n.length),e)}function On(t){var e;if(rt())try{var i=new XMLHttpRequest;i.open("GET",t,!1),i.send(null),e=i.readyState===4?i.responseText:null;var s=i.getResponseHeader("SourceMap")||i.getResponseHeader("X-SourceMap");if(s)return s}catch{}e=nt(t);for(var n=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,r,o;o=n.exec(e);)r=o;return r?r[1]:null}var it=ye(G);G.push(function(t){var e=On(t);if(!e)return null;var i;if(En.test(e)){var s=e.slice(e.indexOf(",")+1);i=Sn(s,"base64").toString(),e=t}else e=et(t,e),i=nt(e);return i?{url:e,map:i}:null});function ot(t){var e=ae[t.source];if(!e){var i=it(t.source);i?(e=ae[t.source]={url:i.url,map:new yn(i.map)},e.map.sourcesContent&&e.map.sources.forEach(function(n,r){var o=e.map.sourcesContent[r];if(o){var a=et(e.url,n);W[a]=o}})):e=ae[t.source]={url:null,map:null}}if(e&&e.map&&typeof e.map.originalPositionFor=="function"){var s=e.map.originalPositionFor(t);if(s.source!==null)return s.source=et(e.url,s.source),s}return t}function Zt(t){var e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(e){var i=ot({source:e[2],line:+e[3],column:e[4]-1});return"eval at "+e[1]+" ("+i.source+":"+i.line+":"+(i.column+1)+")"}return e=/^eval at ([^(]+) \((.+)\)$/.exec(t),e?"eval at "+e[1]+" ("+Zt(e[2])+")":t}function xn(){var t,e="";if(this.isNative())e="native";else{t=this.getScriptNameOrSourceURL(),!t&&this.isEval()&&(e=this.getEvalOrigin(),e+=", "),t?e+=t:e+="<anonymous>";var i=this.getLineNumber();if(i!=null){e+=":"+i;var s=this.getColumnNumber();s&&(e+=":"+s)}}var n="",r=this.getFunctionName(),o=!0,a=this.isConstructor(),u=!(this.isToplevel()||a);if(u){var c=this.getTypeName();c==="[object Object]"&&(c="null");var l=this.getMethodName();r?(c&&r.indexOf(c)!=0&&(n+=c+"."),n+=r,l&&r.indexOf("."+l)!=r.length-l.length-1&&(n+=" [as "+l+"]")):n+=c+"."+(l||"<anonymous>")}else a?n+="new "+(r||"<anonymous>"):r?n+=r:(n+=e,o=!1);return o&&(n+=" ("+e+")"),n}function Xt(t){var e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(i){e[i]=/^(?:is|get)/.test(i)?function(){return t[i].call(t)}:t[i]}),e.toString=xn,e}function Yt(t,e){if(e===void 0&&(e={nextPosition:null,curPosition:null}),t.isNative())return e.curPosition=null,t;var i=t.getFileName()||t.getScriptNameOrSourceURL();if(i){var s=t.getLineNumber(),n=t.getColumnNumber()-1,r=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,o=r.test(bn())?0:62;s===1&&n>o&&!rt()&&!t.isEval()&&(n-=o);var a=ot({source:i,line:s,column:n});e.curPosition=a,t=Xt(t);var u=t.getFunctionName;return t.getFunctionName=function(){return e.nextPosition==null?u():e.nextPosition.name||u()},t.getFileName=function(){return a.source},t.getLineNumber=function(){return a.line},t.getColumnNumber=function(){return a.column+1},t.getScriptNameOrSourceURL=function(){return a.source},t}var c=t.isEval()&&t.getEvalOrigin();return c&&(c=Zt(c),t=Xt(t),t.getEvalOrigin=function(){return c}),t}function In(t,e){Ye&&(W={},ae={});for(var i=t.name||"Error",s=t.message||"",n=i+": "+s,r={nextPosition:null,curPosition:null},o=[],a=e.length-1;a>=0;a--)o.push(`
    at `+Yt(e[a],r)),r.nextPosition=r.curPosition;return r.curPosition=r.nextPosition=null,n+o.reverse().join("")}function er(t){var e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(t.stack);if(e){var i=e[1],s=+e[2],n=+e[3],r=W[i];if(!r&&P&&P.existsSync(i))try{r=P.readFileSync(i,"utf8")}catch{r=""}if(r){var o=r.split(/(?:\r\n|\r|\n)/)[s-1];if(o)return i+":"+s+`
`+o+`
`+new Array(n).join(" ")+"^"}}return null}function Rn(t){var e=er(t),i=Cn();i&&i._handle&&i._handle.setBlocking&&i._handle.setBlocking(!0),e&&(console.error(),console.error(e)),console.error(t.stack),An(1)}function Tn(){var t=process.emit;process.emit=function(e){if(e==="uncaughtException"){var i=arguments[1]&&arguments[1].stack,s=this.listeners(e).length>0;if(i&&!s)return Rn(arguments[1])}return t.apply(this,arguments)}}var Mn=F.slice(0),Ln=G.slice(0);j.wrapCallSite=Yt;j.getErrorSource=er;j.mapSourcePosition=ot;j.retrieveSourceMap=it;j.install=function(t){if(t=t||{},t.environment&&(se=t.environment,["node","browser","auto"].indexOf(se)===-1))throw new Error("environment "+se+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(F.length=0),F.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(G.length=0),G.unshift(t.retrieveSourceMap)),t.hookRequire&&!rt()){var e=$t(tt,"module"),i=e.prototype._compile;i.__sourceMapSupport||(e.prototype._compile=function(r,o){return W[o]=r,ae[o]=void 0,i.call(this,r,o)},e.prototype._compile.__sourceMapSupport=!0)}if(Ye||(Ye="emptyCacheBetweenOperations"in t?t.emptyCacheBetweenOperations:!1),Ht||(Ht=!0,Error.prepareStackTrace=In),!Jt){var s="handleUncaughtExceptions"in t?t.handleUncaughtExceptions:!0;try{var n=$t(tt,"worker_threads");n.isMainThread===!1&&(s=!1)}catch{}s&&wn()&&(Jt=!0,Tn())}};j.resetRetrieveHandlers=function(){F.length=0,G.length=0,F=Mn.slice(0),G=Ln.slice(0),it=ye(G),nt=ye(F)}});var at=_(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.default=Pn;var Dn=kn(require("crypto"));function kn(t){return t&&t.__esModule?t:{default:t}}var Ee=new Uint8Array(256),Se=Ee.length;function Pn(){return Se>Ee.length-16&&(Dn.default.randomFillSync(Ee),Se=0),Ee.slice(Se,Se+=16)}});var rr=_(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.default=void 0;var Nn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;we.default=Nn});var ue=_(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.default=void 0;var qn=Un(rr());function Un(t){return t&&t.__esModule?t:{default:t}}function Bn(t){return typeof t=="string"&&qn.default.test(t)}var Fn=Bn;be.default=Fn});var le=_(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=void 0;var Gn=Kn(ue());function Kn(t){return t&&t.__esModule?t:{default:t}}var A=[];for(let t=0;t<256;++t)A.push((t+256).toString(16).substr(1));function Vn(t,e=0){let i=(A[t[e+0]]+A[t[e+1]]+A[t[e+2]]+A[t[e+3]]+"-"+A[t[e+4]]+A[t[e+5]]+"-"+A[t[e+6]]+A[t[e+7]]+"-"+A[t[e+8]]+A[t[e+9]]+"-"+A[t[e+10]]+A[t[e+11]]+A[t[e+12]]+A[t[e+13]]+A[t[e+14]]+A[t[e+15]]).toLowerCase();if(!(0,Gn.default)(i))throw TypeError("Stringified UUID is invalid");return i}var Qn=Vn;Ce.default=Qn});var or=_(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=void 0;var zn=ir(at()),Wn=ir(le());function ir(t){return t&&t.__esModule?t:{default:t}}var nr,ut,lt=0,ct=0;function jn(t,e,i){let s=e&&i||0,n=e||new Array(16);t=t||{};let r=t.node||nr,o=t.clockseq!==void 0?t.clockseq:ut;if(r==null||o==null){let f=t.random||(t.rng||zn.default)();r==null&&(r=nr=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=ut=(f[6]<<8|f[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:ct+1,c=a-lt+(u-ct)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||a>lt)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lt=a,ct=u,ut=o,a+=122192928e5;let l=((a&268435455)*1e4+u)%4294967296;n[s++]=l>>>24&255,n[s++]=l>>>16&255,n[s++]=l>>>8&255,n[s++]=l&255;let d=a/4294967296*1e4&268435455;n[s++]=d>>>8&255,n[s++]=d&255,n[s++]=d>>>24&15|16,n[s++]=d>>>16&255,n[s++]=o>>>8|128,n[s++]=o&255;for(let f=0;f<6;++f)n[s+f]=r[f];return e||(0,Wn.default)(n)}var $n=jn;Ae.default=$n});var ft=_(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.default=void 0;var Hn=Jn(ue());function Jn(t){return t&&t.__esModule?t:{default:t}}function Xn(t){if(!(0,Hn.default)(t))throw TypeError("Invalid UUID");let e,i=new Uint8Array(16);return i[0]=(e=parseInt(t.slice(0,8),16))>>>24,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=e&255,i[4]=(e=parseInt(t.slice(9,13),16))>>>8,i[5]=e&255,i[6]=(e=parseInt(t.slice(14,18),16))>>>8,i[7]=e&255,i[8]=(e=parseInt(t.slice(19,23),16))>>>8,i[9]=e&255,i[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,i[11]=e/4294967296&255,i[12]=e>>>24&255,i[13]=e>>>16&255,i[14]=e>>>8&255,i[15]=e&255,i}var Zn=Xn;Oe.default=Zn});var dt=_($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.default=ri;$.URL=$.DNS=void 0;var Yn=sr(le()),ei=sr(ft());function sr(t){return t&&t.__esModule?t:{default:t}}function ti(t){t=unescape(encodeURIComponent(t));let e=[];for(let i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}var ar="6ba7b810-9dad-11d1-80b4-00c04fd430c8";$.DNS=ar;var ur="6ba7b811-9dad-11d1-80b4-00c04fd430c8";$.URL=ur;function ri(t,e,i){function s(n,r,o,a){if(typeof n=="string"&&(n=ti(n)),typeof r=="string"&&(r=(0,ei.default)(r)),r.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+n.length);if(u.set(r),u.set(n,r.length),u=i(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(let c=0;c<16;++c)o[a+c]=u[c];return o}return(0,Yn.default)(u)}try{s.name=t}catch{}return s.DNS=ar,s.URL=ur,s}});var lr=_(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.default=void 0;var ni=ii(require("crypto"));function ii(t){return t&&t.__esModule?t:{default:t}}function oi(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),ni.default.createHash("md5").update(t).digest()}var si=oi;xe.default=si});var fr=_(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var ai=cr(dt()),ui=cr(lr());function cr(t){return t&&t.__esModule?t:{default:t}}var li=(0,ai.default)("v3",48,ui.default),ci=li;Ie.default=ci});var mr=_(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.default=void 0;var fi=dr(at()),di=dr(le());function dr(t){return t&&t.__esModule?t:{default:t}}function mi(t,e,i){t=t||{};let s=t.random||(t.rng||fi.default)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){i=i||0;for(let n=0;n<16;++n)e[i+n]=s[n];return e}return(0,di.default)(s)}var pi=mi;Re.default=pi});var pr=_(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;var hi=gi(require("crypto"));function gi(t){return t&&t.__esModule?t:{default:t}}function vi(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),hi.default.createHash("sha1").update(t).digest()}var _i=vi;Te.default=_i});var gr=_(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var yi=hr(dt()),Si=hr(pr());function hr(t){return t&&t.__esModule?t:{default:t}}var Ei=(0,yi.default)("v5",80,Si.default),wi=Ei;Me.default=wi});var vr=_(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.default=void 0;var bi="00000000-0000-0000-0000-000000000000";Le.default=bi});var _r=_(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var Ci=Ai(ue());function Ai(t){return t&&t.__esModule?t:{default:t}}function Oi(t){if(!(0,Ci.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var xi=Oi;De.default=xi});var yr=_(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});Object.defineProperty(k,"v1",{enumerable:!0,get:function(){return Ii.default}});Object.defineProperty(k,"v3",{enumerable:!0,get:function(){return Ri.default}});Object.defineProperty(k,"v4",{enumerable:!0,get:function(){return Ti.default}});Object.defineProperty(k,"v5",{enumerable:!0,get:function(){return Mi.default}});Object.defineProperty(k,"NIL",{enumerable:!0,get:function(){return Li.default}});Object.defineProperty(k,"version",{enumerable:!0,get:function(){return Di.default}});Object.defineProperty(k,"validate",{enumerable:!0,get:function(){return ki.default}});Object.defineProperty(k,"stringify",{enumerable:!0,get:function(){return Pi.default}});Object.defineProperty(k,"parse",{enumerable:!0,get:function(){return Ni.default}});var Ii=B(or()),Ri=B(fr()),Ti=B(mr()),Mi=B(gr()),Li=B(vr()),Di=B(_r()),ki=B(ue()),Pi=B(le()),Ni=B(ft());function B(t){return t&&t.__esModule?t:{default:t}}});var Er=_((Ne,mt)=>{(function(t,e,i){"use strict";var s=function(r,o,a){a=n.extend({},n.options,a);var u=n.runValidations(r,o,a),c,l;if(u.some(function(d){return n.isPromise(d.error)}))throw new Error("Use validate.async if you want support for promises");return s.processValidationResults(u,a)},n=s;n.extend=function(r){return[].slice.call(arguments,1).forEach(function(o){for(var a in o)r[a]=o[a]}),r},n.extend(s,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var r=n.format("%{major}.%{minor}.%{patch}",n.version);return n.isEmpty(n.version.metadata)||(r+="+"+n.version.metadata),r}},Promise:typeof Promise<"u"?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(r,o,a){var u=[],c,l,d,f,m,g,v;(n.isDomElement(r)||n.isJqueryElement(r))&&(r=n.collectFormValues(r));for(c in o){d=n.getDeepObjectValue(r,c),f=n.result(o[c],d,r,c,a,o);for(l in f){if(m=n.validators[l],!m)throw v=n.format("Unknown validator %{name}",{name:l}),new Error(v);g=f[l],g=n.result(g,d,r,c,a,o),g&&u.push({attribute:c,value:d,validator:l,globalOptions:a,attributes:r,options:g,error:m.call(m,d,g,c,r,a)})}}return u},processValidationResults:function(r,o){r=n.pruneEmptyErrors(r,o),r=n.expandMultipleErrors(r,o),r=n.convertErrorMessages(r,o);var a=o.format||"grouped";if(typeof n.formatters[a]=="function")r=n.formatters[a](r);else throw new Error(n.format("Unknown format %{format}",o));return n.isEmpty(r)?void 0:r},async:function(r,o,a){a=n.extend({},n.async.options,a);var u=a.wrapErrors||function(l){return l};a.cleanAttributes!==!1&&(r=n.cleanAttributes(r,o));var c=n.runValidations(r,o,a);return new n.Promise(function(l,d){n.waitForResults(c).then(function(){var f=n.processValidationResults(c,a);f?d(new u(f,a,r,o)):l(r)},function(f){d(f)})})},single:function(r,o,a){return a=n.extend({},n.single.options,a,{format:"flat",fullMessages:!1}),n({single:r},{single:o},a)},waitForResults:function(r){return r.reduce(function(o,a){return n.isPromise(a.error)?o.then(function(){return a.error.then(function(u){a.error=u||null})}):o},new n.Promise(function(o){o()}))},result:function(r){var o=[].slice.call(arguments,1);return typeof r=="function"&&(r=r.apply(null,o)),r},isNumber:function(r){return typeof r=="number"&&!isNaN(r)},isFunction:function(r){return typeof r=="function"},isInteger:function(r){return n.isNumber(r)&&r%1===0},isBoolean:function(r){return typeof r=="boolean"},isObject:function(r){return r===Object(r)},isDate:function(r){return r instanceof Date},isDefined:function(r){return r!=null},isPromise:function(r){return!!r&&n.isFunction(r.then)},isJqueryElement:function(r){return r&&n.isString(r.jquery)},isDomElement:function(r){return!r||!r.querySelectorAll||!r.querySelector?!1:n.isObject(document)&&r===document?!0:typeof HTMLElement=="object"?r instanceof HTMLElement:r&&typeof r=="object"&&r!==null&&r.nodeType===1&&typeof r.nodeName=="string"},isEmpty:function(r){var o;if(!n.isDefined(r))return!0;if(n.isFunction(r))return!1;if(n.isString(r))return n.EMPTY_STRING_REGEXP.test(r);if(n.isArray(r))return r.length===0;if(n.isDate(r))return!1;if(n.isObject(r)){for(o in r)return!1;return!0}return!1},format:n.extend(function(r,o){return n.isString(r)?r.replace(n.format.FORMAT_REGEXP,function(a,u,c){return u==="%"?"%{"+c+"}":String(o[c])}):r},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(r){return n.isNumber(r)?r*100%1===0?""+r:parseFloat(Math.round(r*100)/100).toFixed(2):n.isArray(r)?r.map(function(o){return n.prettify(o)}).join(", "):n.isObject(r)?n.isDefined(r.toString)?r.toString():JSON.stringify(r):(r=""+r,r.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(o,a,u){return""+a+" "+u.toLowerCase()}).toLowerCase())},stringifyValue:function(r,o){var a=o&&o.prettify||n.prettify;return a(r)},isString:function(r){return typeof r=="string"},isArray:function(r){return{}.toString.call(r)==="[object Array]"},isHash:function(r){return n.isObject(r)&&!n.isArray(r)&&!n.isFunction(r)},contains:function(r,o){return n.isDefined(r)?n.isArray(r)?r.indexOf(o)!==-1:o in r:!1},unique:function(r){return n.isArray(r)?r.filter(function(o,a,u){return u.indexOf(o)==a}):r},forEachKeyInKeypath:function(r,o,a){if(!!n.isString(o)){var u="",c,l=!1;for(c=0;c<o.length;++c)switch(o[c]){case".":l?(l=!1,u+="."):(r=a(r,u,!1),u="");break;case"\\":l?(l=!1,u+="\\"):l=!0;break;default:l=!1,u+=o[c];break}return a(r,u,!0)}},getDeepObjectValue:function(r,o){if(!!n.isObject(r))return n.forEachKeyInKeypath(r,o,function(a,u){if(n.isObject(a))return a[u]})},collectFormValues:function(r,o){var a={},u,c,l,d,f,m;if(n.isJqueryElement(r)&&(r=r[0]),!r)return a;for(o=o||{},d=r.querySelectorAll("input[name], textarea[name]"),u=0;u<d.length;++u)if(l=d.item(u),!n.isDefined(l.getAttribute("data-ignored"))){var g=l.name.replace(/\./g,"\\\\.");m=n.sanitizeFormValue(l.value,o),l.type==="number"?m=m?+m:null:l.type==="checkbox"?l.attributes.value?l.checked||(m=a[g]||null):m=l.checked:l.type==="radio"&&(l.checked||(m=a[g]||null)),a[g]=m}for(d=r.querySelectorAll("select[name]"),u=0;u<d.length;++u)if(l=d.item(u),!n.isDefined(l.getAttribute("data-ignored"))){if(l.multiple){m=[];for(c in l.options)f=l.options[c],f&&f.selected&&m.push(n.sanitizeFormValue(f.value,o))}else{var v=typeof l.options[l.selectedIndex]<"u"?l.options[l.selectedIndex].value:"";m=n.sanitizeFormValue(v,o)}a[l.name]=m}return a},sanitizeFormValue:function(r,o){return o.trim&&n.isString(r)&&(r=r.trim()),o.nullify!==!1&&r===""?null:r},capitalize:function(r){return n.isString(r)?r[0].toUpperCase()+r.slice(1):r},pruneEmptyErrors:function(r){return r.filter(function(o){return!n.isEmpty(o.error)})},expandMultipleErrors:function(r){var o=[];return r.forEach(function(a){n.isArray(a.error)?a.error.forEach(function(u){o.push(n.extend({},a,{error:u}))}):o.push(a)}),o},convertErrorMessages:function(r,o){o=o||{};var a=[],u=o.prettify||n.prettify;return r.forEach(function(c){var l=n.result(c.error,c.value,c.attribute,c.options,c.attributes,c.globalOptions);if(!n.isString(l)){a.push(c);return}l[0]==="^"?l=l.slice(1):o.fullMessages!==!1&&(l=n.capitalize(u(c.attribute))+" "+l),l=l.replace(/\\\^/g,"^"),l=n.format(l,{value:n.stringifyValue(c.value,o)}),a.push(n.extend({},c,{error:l}))}),a},groupErrorsByAttribute:function(r){var o={};return r.forEach(function(a){var u=o[a.attribute];u?u.push(a):o[a.attribute]=[a]}),o},flattenErrorsToArray:function(r){return r.map(function(o){return o.error}).filter(function(o,a,u){return u.indexOf(o)===a})},cleanAttributes:function(r,o){function a(l,d,f){return n.isObject(l[d])?l[d]:l[d]=f?!0:{}}function u(l){var d={},f,m;for(m in l)!l[m]||n.forEachKeyInKeypath(d,m,a);return d}function c(l,d){if(!n.isObject(l))return l;var f=n.extend({},l),m,g;for(g in l)m=d[g],n.isObject(m)?f[g]=c(f[g],m):m||delete f[g];return f}return!n.isObject(o)||!n.isObject(r)?{}:(o=u(o),c(r,o))},exposeModule:function(r,o,a,u,c){a?(u&&u.exports&&(a=u.exports=r),a.validate=r):(o.validate=r,r.isFunction(c)&&c.amd&&c([],function(){return r}))},warn:function(r){typeof console<"u"&&console.warn&&console.warn("[validate.js] "+r)},error:function(r){typeof console<"u"&&console.error&&console.error("[validate.js] "+r)}}),s.validators={presence:function(r,o){if(o=n.extend({},this.options,o),o.allowEmpty!==!1?!n.isDefined(r):n.isEmpty(r))return o.message||this.message||"can't be blank"},length:function(r,o,a){if(!!n.isDefined(r)){o=n.extend({},this.options,o);var u=o.is,c=o.maximum,l=o.minimum,d=o.tokenizer||function(v){return v},f,m=[];r=d(r);var g=r.length;if(!n.isNumber(g))return o.message||this.notValid||"has an incorrect length";if(n.isNumber(u)&&g!==u&&(f=o.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",m.push(n.format(f,{count:u}))),n.isNumber(l)&&g<l&&(f=o.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",m.push(n.format(f,{count:l}))),n.isNumber(c)&&g>c&&(f=o.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",m.push(n.format(f,{count:c}))),m.length>0)return o.message||m}},numericality:function(r,o,a,u,c){if(!!n.isDefined(r)){o=n.extend({},this.options,o);var l=[],d,f,m={greaterThan:function(b,R){return b>R},greaterThanOrEqualTo:function(b,R){return b>=R},equalTo:function(b,R){return b===R},lessThan:function(b,R){return b<R},lessThanOrEqualTo:function(b,R){return b<=R},divisibleBy:function(b,R){return b%R===0}},g=o.prettify||c&&c.prettify||n.prettify;if(n.isString(r)&&o.strict){var v="^-?(0|[1-9]\\d*)";if(o.onlyInteger||(v+="(\\.\\d+)?"),v+="$",!new RegExp(v).test(r))return o.message||o.notValid||this.notValid||this.message||"must be a valid number"}if(o.noStrings!==!0&&n.isString(r)&&!n.isEmpty(r)&&(r=+r),!n.isNumber(r))return o.message||o.notValid||this.notValid||this.message||"is not a number";if(o.onlyInteger&&!n.isInteger(r))return o.message||o.notInteger||this.notInteger||this.message||"must be an integer";for(d in m)if(f=o[d],n.isNumber(f)&&!m[d](r,f)){var q="not"+n.capitalize(d),w=o[q]||this[q]||this.message||"must be %{type} %{count}";l.push(n.format(w,{count:f,type:g(d)}))}if(o.odd&&r%2!==1&&l.push(o.notOdd||this.notOdd||this.message||"must be odd"),o.even&&r%2!==0&&l.push(o.notEven||this.notEven||this.message||"must be even"),l.length)return o.message||l}},datetime:n.extend(function(r,o){if(!n.isFunction(this.parse)||!n.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(!!n.isDefined(r)){o=n.extend({},this.options,o);var a,u=[],c=o.earliest?this.parse(o.earliest,o):NaN,l=o.latest?this.parse(o.latest,o):NaN;if(r=this.parse(r,o),isNaN(r)||o.dateOnly&&r%864e5!==0)return a=o.notValid||o.message||this.notValid||"must be a valid date",n.format(a,{value:arguments[0]});if(!isNaN(c)&&r<c&&(a=o.tooEarly||o.message||this.tooEarly||"must be no earlier than %{date}",a=n.format(a,{value:this.format(r,o),date:this.format(c,o)}),u.push(a)),!isNaN(l)&&r>l&&(a=o.tooLate||o.message||this.tooLate||"must be no later than %{date}",a=n.format(a,{date:this.format(l,o),value:this.format(r,o)}),u.push(a)),u.length)return n.unique(u)}},{parse:null,format:null}),date:function(r,o){return o=n.extend({},o,{dateOnly:!0}),n.validators.datetime.call(n.validators.datetime,r,o)},format:function(r,o){(n.isString(o)||o instanceof RegExp)&&(o={pattern:o}),o=n.extend({},this.options,o);var a=o.message||this.message||"is invalid",u=o.pattern,c;if(!!n.isDefined(r)&&(!n.isString(r)||(n.isString(u)&&(u=new RegExp(o.pattern,o.flags)),c=u.exec(r),!c||c[0].length!=r.length)))return a},inclusion:function(r,o){if(!!n.isDefined(r)&&(n.isArray(o)&&(o={within:o}),o=n.extend({},this.options,o),!n.contains(o.within,r))){var a=o.message||this.message||"^%{value} is not included in the list";return n.format(a,{value:r})}},exclusion:function(r,o){if(!!n.isDefined(r)&&(n.isArray(o)&&(o={within:o}),o=n.extend({},this.options,o),!!n.contains(o.within,r))){var a=o.message||this.message||"^%{value} is restricted";return n.isString(o.within[r])&&(r=o.within[r]),n.format(a,{value:r})}},email:n.extend(function(r,o){o=n.extend({},this.options,o);var a=o.message||this.message||"is not a valid email";if(!!n.isDefined(r)&&(!n.isString(r)||!this.PATTERN.exec(r)))return a},{PATTERN:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(r,o,a,u,c){if(!!n.isDefined(r)){n.isString(o)&&(o={attribute:o}),o=n.extend({},this.options,o);var l=o.message||this.message||"is not equal to %{attribute}";if(n.isEmpty(o.attribute)||!n.isString(o.attribute))throw new Error("The attribute must be a non empty string");var d=n.getDeepObjectValue(u,o.attribute),f=o.comparator||function(g,v){return g===v},m=o.prettify||c&&c.prettify||n.prettify;if(!f(r,d,o,a,u))return n.format(l,{attribute:m(o.attribute)})}},url:function(r,o){if(!!n.isDefined(r)){o=n.extend({},this.options,o);var a=o.message||this.message||"is not a valid url",u=o.schemes||this.schemes||["http","https"],c=o.allowLocal||this.allowLocal||!1,l=o.allowDataUrl||this.allowDataUrl||!1;if(!n.isString(r))return a;var d="^(?:(?:"+u.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",f="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(c?f+="?":d+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",d+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+f+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",l){var m="\\w+\\/[-+.\\w]+(?:;[\\w=]+)*",g="[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*",v="data:(?:"+m+")?(?:;base64)?,"+g;d="(?:"+d+")|(?:^"+v+"$)"}var q=new RegExp(d,"i");if(!q.exec(r))return a}},type:n.extend(function(r,o,a,u,c){if(n.isString(o)&&(o={type:o}),!!n.isDefined(r)){var l=n.extend({},this.options,o),d=l.type;if(!n.isDefined(d))throw new Error("No type was specified");var f;if(n.isFunction(d)?f=d:f=this.types[d],!n.isFunction(f))throw new Error("validate.validators.type.types."+d+" must be a function.");if(!f(r,l,a,u,c)){var m=o.message||this.messages[d]||this.message||l.message||(n.isFunction(d)?"must be of the correct type":"must be of type %{type}");return n.isFunction(m)&&(m=m(r,o,a,u,c)),n.format(m,{attribute:n.prettify(a),type:d})}}},{types:{object:function(r){return n.isObject(r)&&!n.isArray(r)},array:n.isArray,integer:n.isInteger,number:n.isNumber,string:n.isString,date:n.isDate,boolean:n.isBoolean},messages:{}})},s.formatters={detailed:function(r){return r},flat:n.flattenErrorsToArray,grouped:function(r){var o;r=n.groupErrorsByAttribute(r);for(o in r)r[o]=n.flattenErrorsToArray(r[o]);return r},constraint:function(r){var o;r=n.groupErrorsByAttribute(r);for(o in r)r[o]=r[o].map(function(a){return a.validator}).sort();return r}},s.exposeModule(s,this,t,e,i)}).call(Ne,typeof Ne<"u"?Ne:null,typeof mt<"u"?mt:null,typeof define<"u"?define:null)});var ao={};Wr(ao,{createBook:()=>Or,createTask:()=>kr,deleteBook:()=>Rr,deleteTask:()=>Ur,getBook:()=>Tr,getTask:()=>Nr,updateBook:()=>Lr,updateTask:()=>Fr});module.exports=jr(ao);tr().install();var N=qe(yr(),1),qo=N.default.v1,Uo=N.default.v3,ke=N.default.v4,Bo=N.default.v5,Fo=N.default.NIL,Go=N.default.version,Ko=N.default.validate,Vo=N.default.stringify,Qo=N.default.parse;var ce=class{constructor({id:e=ke(),name:i=""}){this._id=e,this._name=i}set id(e){this._id=e}get id(){return this._id}set name(e){this._name=e}get name(){return this._name}toEntityMappings(){return{id:this.id,name:this.name,timestamp:new Date().getTime()}}};var qi={200:"success",201:"success",204:"success",400:"bad request",404:"bad request",500:"error"},Ui={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},h=class{constructor(e={},i=402,s=""){this.code=i;this.setBodyVariable=(e,i)=>{this.body[e]=i};this.generate=()=>({statusCode:this.code,headers:Ui,body:JSON.stringify(this.body)});this.body={data:e,message:s,status:qi[i]},this.code=i}get message(){return this.body.message}get data(){return this.body.data}};var Pe=qe(require("aws-sdk"));var{STAGE:Sr}=process.env,fe={region:"ap-northeast-1"};Sr==="dev"?(fe.accessKeyId="dummy",fe.secretAccessKey="dummy",fe.endpoint="http://localhost:8008",console.log("dynamodb-local mode",fe)):console.log("running dynamodb on aws on",Sr);Pe.config.update(fe);var H=new Pe.DynamoDB.DocumentClient,E=class{constructor(){this.getItem=async({key:e,hash:i,hashValue:s,tableName:n})=>{let r={TableName:n,Key:{id:e}};i&&(r.Key[i]=s);let o=await this.get(r);if(Object.keys(o).length)return o;throw console.log("item does not exist"),new h({id:e},404,"Item does not exist")};this.existsItem=async({key:e,hash:i,hashValue:s,tableName:n})=>{try{return await this.getItem({key:e,hash:i,hashValue:s,tableName:n}),!0}catch(r){if(r instanceof h)return r.code!==404;throw r}};this.create=async e=>{try{return await H.put(e).promise()}catch(i){throw console.error("create-error",i),new h({},500,`create-error: ${i}`)}};this.batchCreate=async e=>{try{return await H.batchWrite(e).promise()}catch(i){throw new h({},500,`batch-write-error: ${i}`)}};this.update=async e=>{try{return await H.update(e).promise()}catch(i){throw new h({},500,`update-error: ${i}`)}};this.query=async e=>{try{return await H.query(e).promise()}catch(i){throw new h({},500,`query-error: ${i}`)}};this.scan=async e=>{try{return await H.scan(e).promise()}catch(i){throw new h({},500,`query-error: ${i}`)}};this.get=async e=>{try{return await H.get(e).promise()}catch(i){throw new h({},500,`get-error: ${i}`)}};this.delete=async e=>{try{return await H.delete(e).promise()}catch(i){throw new h({},500,`delete-error: ${i}`)}}}};var wr=qe(Er());var T=(t,e)=>new Promise((i,s)=>{let n=(0,wr.default)(t,e);typeof n>"u"?i(t):s(new h({validation:n},400,"required fields are missing"))}),br=(t,e)=>{let i=[],s=0;for(;s<t.length;)i.push(t.slice(s,s+=e));return i},x=()=>{let{BOOK_TABLE:t,TASKS_TABLE:e}=process.env;return{bookTable:t??"unknown-book-table",tasksTable:e??"unknown-tasks-table"}};var Bi={presence:{allowEmpty:!1,type:"string"}},Ar={name:Bi};var I=t=>async(e,i)=>{let s=e.body?JSON.parse(e.body):void 0,n=Object.keys(e.queryStringParameters||{}).reduce((o,a)=>{var u;return o[a]=(u=e.queryStringParameters)==null?void 0:u[a],o},{});return(await t(s,n,i)).generate()};var Fi=async t=>{try{await T(t,Ar);let e=new E,s=new ce(t).toEntityMappings(),n={TableName:x().bookTable,Item:{id:s.id,name:s.name,createdAt:s.timestamp,updatedAt:s.timestamp}};return await e.create(n),new h({bookId:s.id},201,"To-do book successfully created")}catch(e){return e instanceof h?e:new h({},500,"To-do book cannot be created")}},Or=I(Fi);var Gi={presence:{allowEmpty:!1},type:"string"},Ir={bookId:Gi};var Ki=async(t,e)=>{var r;let{bookTable:i,tasksTable:s}=x(),n=new E;try{await T(e,Ir);let{bookId:o}=e;if(!await n.existsItem({key:o,tableName:i}))return new h({},204,"To-do book has already been deleted");let u={TableName:i,Key:{id:o}};await n.delete(u);let c={TableName:s,IndexName:"book_index",KeyConditionExpression:"bookId = :bookIdVal",ExpressionAttributeValues:{":bookIdVal":o}},l=await n.query(c);if((l==null?void 0:l.Items)&&(l==null?void 0:l.Items.length)){let d=(r=l==null?void 0:l.Items)==null?void 0:r.map(f=>({DeleteRequest:{Key:{id:f.id}}}));if(d.length>25){let f=br(d,25);await Promise.all(f.map(m=>n.batchCreate({RequestItems:{[s]:m}})))}else await n.batchCreate({RequestItems:{[s]:d}})}return new h({},204,"To-do book successfully deleted")}catch(o){return o instanceof h?o:new h({},500,"To-do book cannot be deleted")}},Rr=I(Ki);var Vi=async t=>{let e=new E,{bookTable:i}=x();try{let s={TableName:i},n=await e.scan(s);return new h({books:n.Items},200,"To-do book successfully retrieved")}catch(s){return s instanceof h?s:new h({},500,"To-do book not found")}},Tr=I(Vi);var Qi={presence:{allowEmpty:!1},type:"string"},zi={presence:{allowEmpty:!1},type:"string"},Mr={bookId:Qi,name:zi};var Wi=async t=>{let e=new E,{bookTable:i}=x(),{bookId:s,name:n}=t;try{await Promise.all([T(t,Mr),e.getItem({key:s,tableName:i})]);let r={TableName:i,Key:{id:s},UpdateExpression:"set #name = :name, updatedAt = :timestamp",ExpressionAttributeNames:{"#name":"name"},ExpressionAttributeValues:{":name":n,":timestamp":new Date().getTime()},ReturnValues:"UPDATED_NEW"},o=await e.update(r);return new h(J({},o.Attributes),200,"To-do book successfully updated")}catch(r){return r instanceof h?r:new h({},500,"To-do book cannot be updated")}},Lr=I(Wi);var de=class{constructor({id:e=ke(),bookId:i,description:s="",completed:n=!1}){this._id=e,this._bookId=i,this._description=s,this._completed=n}get id(){return this._id}set bookId(e){this._bookId=e}get bookId(){return this._bookId}set description(e){this._description=e}get description(){return this._description}set completed(e){this._completed=e}get completed(){return this._completed}toEntityMapping(){return{id:this.id,bookId:this.bookId,description:this.description,completed:this.completed,timestamp:new Date().getTime()}}};var ji={presence:{allowEmpty:!1},type:"string"},$i={presence:{allowEmpty:!1},type:"string"},Dr={bookId:ji,description:$i};var Hi=async t=>{let e=new E,{bookTable:i,tasksTable:s}=x();try{await Promise.all([T(t,Dr),e.getItem({key:t.bookId,tableName:i})]);let r=new de(t).toEntityMapping(),o={TableName:s,Item:{id:r.id,bookId:r.bookId,description:r.description,completed:r.completed,createdAt:r.timestamp,updatedAt:r.timestamp}};return await e.create(o),new h({taskId:r.id},201,"Task successfully added")}catch(n){return n instanceof h?n:new h({},500,"Task could not be added")}},kr=I(Hi);var Ji={presence:{allowEmpty:!1},type:"string"},Xi={presence:{allowEmpty:!1},type:"string"},Pr={bookId:Ji,taskId:Xi};var Zi=async(t,e)=>{let i=new E,{tasksTable:s}=x();try{await T(e,Pr);let{taskId:n,bookId:r}=e,o=await i.getItem({key:n,hash:"bookId",hashValue:r,tableName:s});return new h(J({},o.Item),200,"Task successfully retrieved")}catch(n){return n instanceof h?n:new h({},500,"Task not found")}},Nr=I(Zi);var Yi={presence:{allowEmpty:!1},type:"string"},eo={presence:{allowEmpty:!1},type:"string"},qr={bookId:Yi,taskId:eo};var to=async(t,e)=>{let i=new E,{tasksTable:s}=x();try{await T(e,qr);let{taskId:n,bookId:r}=e;if(!await i.existsItem({key:n,hash:"bookId",hashValue:r,tableName:s}))return new h({},204,"Task has already been deleted");let a={TableName:s,Key:{id:n,bookId:r}};return await i.delete(a),new h({},204,"Task successfully deleted")}catch(n){return n instanceof h?n:new h({},500,"Task could not be deleted")}},Ur=I(to);var ro={presence:{allowEmpty:!1},type:"string"},no={presence:{allowEmpty:!1},type:"string"},io={type:"string"},oo={type:"boolean"},Br={bookId:ro,taskId:no,description:io,completed:oo};var so=async t=>{let e=new E,{bookId:i,taskId:s,completed:n,description:r}=t,{bookTable:o,tasksTable:a}=x();try{await Promise.all([T(t,Br),e.getItem({key:i,tableName:o})]);let u=typeof n<"u",c=`set ${r?"description = :description,":""} ${typeof n<"u"?"completed = :completed,":""} updatedAt = :timestamp`;if(r||u){let l={TableName:a,Key:{id:s,bookId:i},UpdateExpression:c,ExpressionAttributeValues:{":timestamp":new Date().getTime()},ReturnValues:"UPDATED_NEW"};r&&(l.ExpressionAttributeValues[":description"]=r),u&&(l.ExpressionAttributeValues[":completed"]=n);let d=await e.update(l);return new h(J({},d.Attributes),200,"Task successfully updated")}else return new h({},400,"Invalid Request!")}catch(u){return u instanceof h?u:new h({},500,"Task could not be updated")}},Fr=I(so);0&&(module.exports={createBook,createTask,deleteBook,deleteTask,getBook,getTask,updateBook,updateTask});
/*!
 * validate.js 0.13.1
 *
 * (c) 2013-2019 Nicklas Ansman, 2013 Wrapp
 * Validate.js may be freely distributed under the MIT license.
 * For all details and documentation:
 * http://validatejs.org/
 */
//# sourceMappingURL=handler.js.map
